<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SSP Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin:0;
  background:black;
  color:white;
  font-family:Arial;
  overflow:hidden;
}
#authBox {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}
input {
  display:block;
  margin:10px 0;
  padding:8px;
}
button {
  padding:8px;
  margin:5px 0;
  cursor:pointer;
}

/* Iframe */
iframe {
  width:100%;
  height:100vh;
  border:none;
  display:none;
}

/* Coins & Store */
#coinBox {
  position:fixed;
  top:10px;
  left:10px;
  background:#111;
  padding:8px 12px;
  border-radius:6px;
  font-size:16px;
  z-index:9999;
}
#adminCoinsBtn {
  display:inline-block;
  margin-top:5px;
  padding:6px 12px;
  border:none;
  border-radius:6px;
  background: linear-gradient(90deg, #9b59b6, #8e44ad);
  box-shadow: 0 0 10px #9b59b6;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
#storeBtn {
  display:block;
  margin-top:8px;
  padding:6px 12px;
  border:none;
  border-radius:6px;
  background:#222;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

/* Admin Panel */
#adminBtn {
  position:fixed;
  bottom:10px;
  left:10px;
  width:40px;
  height:40px;
  background:#9b59b6;
  color:white;
  border:none;
  border-radius:6px;
  display:none;
  cursor:pointer;
}
#adminPanel {
  position:fixed;
  left:10px;
  bottom:60px;
  background:#111;
  padding:10px;
  display:none;
  width:260px;
  border-radius:6px;
}

/* Chat */
#chatBox {
  position:fixed;
  right:10px;
  bottom:10px;
  width:300px;
  background:#111;
  padding:10px;
  border-radius:6px;
  display:none;
}
#chatMessages {
  height:150px;
  overflow:auto;
  margin-bottom:5px;
  font-size:14px;
}
#chatInput {
  width:100%;
  padding:6px;
  border-radius:4px;
  border:none;
  background:#222;
  color:white;
}
</style>
</head>
<body>

<div id="authBox">
  <h2>Login</h2>
  <input id="loginUser" placeholder="Username">
  <input id="loginPass" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <button onclick="signup()">Sign Up</button>
</div>

<!-- Coins + Admin Button -->
<div id="coinBox" style="display:none">
  Coins: <span id="coinCount">0</span>
  <button id="adminCoinsBtn" style="display:none">+100</button>
  <button id="storeBtn">ðŸ›’ Store</button>
</div>

<!-- Home iframe -->
<iframe id="mainFrame" allowfullscreen sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-modals allow-presentation"></iframe>

<!-- Admin Panel -->
<button id="adminBtn" onclick="toggleAdmin()">âš™</button>
<div id="adminPanel">
  <h3>Users</h3>
  <div id="onlineCount"></div>
  <div id="usersList"></div>
</div>

<!-- Chat -->
<div id="chatBox">
  <div id="chatMessages"></div>
  <input id="chatInput" placeholder="Type message...">
</div>

<!-- Scripts -->
<script src="auth.js"></script>
<script>
// Store button toggle
const storeBtn = document.getElementById("storeBtn");
storeBtn.onclick = () => {
  if (window.storeOpen) {
    document.getElementById("storeContainer")?.remove();
    window.storeOpen = false;
  } else {
    const storeDiv = document.createElement("div");
    storeDiv.id = "storeContainer";
    storeDiv.style.position = "fixed";
    storeDiv.style.top = "60px";
    storeDiv.style.left = "10px";
    storeDiv.style.width = "300px";
    storeDiv.style.height = "400px";
    storeDiv.style.background = "#111";
    storeDiv.style.color = "white";
    storeDiv.style.border = "2px solid #9b59b6";
    storeDiv.style.borderRadius = "6px";
    storeDiv.style.padding = "8px";
    storeDiv.style.overflowY = "auto";
    storeDiv.innerHTML = "<h3>Store (coming soon)</h3>";
    document.body.appendChild(storeDiv);
    window.storeOpen = true;
  }
};
</script>

</body>
</html>
